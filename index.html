<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vizio TV Browser</title>
<style>
body { margin:0; font-family:Arial,sans-serif; background:#000; color:#fff; display:flex; flex-direction:column; height:100vh; }
header { background:#111; padding:15px; text-align:center; font-size:1.5em; font-weight:bold; }
.controls { display:flex; flex-direction:column; align-items:center; background:#222; padding:10px; }
#url { width:90%; padding:10px; font-size:1em; border-radius:5px; border:none; outline:none; margin-bottom:10px; }
button { padding:10px 15px; font-size:1em; margin:3px; border:none; border-radius:5px; background:#1e90ff; color:#fff; cursor:pointer; }
button.selected { border:2px solid yellow; }
iframe { flex:1; border:none; width:100%; }
.keyboard { display:grid; grid-template-columns:repeat(10,1fr); gap:3px; margin-top:10px; justify-items:center; }
</style>
</head>
<body>
<header>Vizio TV Browser</header>

<div class="controls">
  <input id="url" placeholder="Type URL or search term">
  <button id="goBtn">Go</button>
  <div class="keyboard" id="keyboard"></div>
</div>

<iframe id="viewer" src=""></iframe>

<script>
// On-screen keyboard
const keys=['Q','W','E','R','T','Y','U','I','O','P','A','S','D','F','G','H','J','K','L','Z','X','C','V','B','N','M','0','1','2','3','4','5','6','7','8','9','.','/',':','-','_','Space','Backspace'];
const keyboardDiv=document.getElementById('keyboard');
keys.forEach(k=>{const btn=document.createElement('button');btn.textContent=k;keyboardDiv.appendChild(btn);});

const goBtn=document.getElementById('goBtn');
const urlInput=document.getElementById('url');
const iframe=document.getElementById('viewer');

let selectedIndex=0;
let inGoButton=false;

function highlightButton(){
  keyboardDiv.querySelectorAll('button').forEach((btn,idx)=>{btn.classList.toggle('selected',idx===selectedIndex&&!inGoButton);});
  goBtn.classList.toggle('selected',inGoButton);
}
highlightButton();

function pressKey(key){
  if(key==='Backspace') urlInput.value=urlInput.value.slice(0,-1);
  else if(key==='Space') urlInput.value+=' ';
  else urlInput.value+=key;
}

function loadSite(){
  const input=urlInput.value.trim();
  if(!input) return;
  let url=input.includes('.')||input.startsWith('http')? (input.startsWith('http')? input:'https://'+input) : 'https://www.google.com/search?q='+encodeURIComponent(input);
  iframe.src=url;
}

// Go button
goBtn.addEventListener('click',loadSite);

// TV remote navigation
document.addEventListener('keydown',e=>{
  const cols=10;
  switch(e.key){
    case "ArrowUp":
      if(inGoButton) { inGoButton=false; selectedIndex=keys.length-1; }
      else if(selectedIndex>=cols) selectedIndex-=cols;
      break;
    case "ArrowDown":
      if(selectedIndex+cols<keys.length) selectedIndex+=cols;
      else { inGoButton=true; }
      break;
    case "ArrowLeft":
      if(!inGoButton&&selectedIndex%cols>0) selectedIndex-=1;
      break;
    case "ArrowRight":
      if(!inGoButton&&selectedIndex%cols<cols-1&&selectedIndex<keys.length-1) selectedIndex+=1;
      break;
    case "Enter":
      if(inGoButton) loadSite();
      else pressKey(keys[selectedIndex]);
      break;
  }
  highlightButton();
});
</script>
</body>
</html>
